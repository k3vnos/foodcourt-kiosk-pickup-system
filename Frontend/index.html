<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FCKPS Admin Console</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-container">
    <header>
      <h1>Food Court Kiosk &amp; Pickup System</h1>
      <p class="subtitle">
      Admin &amp; Vendor Dashboard (CSE 412 Project) ·
      <a href="customer.html" style="color:#60a5fa; text-decoration:none;">Customer Order Page</a> ·
      <a href="order-status.html" style="color:#60a5fa; text-decoration:none;">Check Order Status</a>
    </p>

    </header>

    <main>
      <!-- Menu management -->
      <section class="panel">
        <h2>Menu Management</h2>
        <p class="panel-description">
          View existing menu items, add new ones, or mark items as unavailable.
        </p>

        <div class="card">
          <h3>Menu Items</h3>
          <p class="card-description">
            Items currently available in the food court (across all vendors).
          </p>
          <div class="table-wrapper">
            <table id="menu-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Vendor</th>
                  <th>Name</th>
                  <th>Category</th>
                  <th>Price</th>
                  <th>Available</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- filled by script.js -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="card">
          <h3>Add New Menu Item</h3>
          <p class="card-description">
            Create a new item for a vendor. This performs an INSERT into the MenuItem table.
          </p>
          <div class="grid-two">
            <div>
              <label>Vendor
                <select id="vendor-select">
                  <!-- options loaded from API -->
                </select>
              </label>
              <label>Item Name
                <input id="item-name" type="text" placeholder="Cheeseburger">
              </label>
              <label>Description
                <input id="item-description" type="text" placeholder="Short description (optional)">
              </label>
            </div>
            <div>
              <label>Category
                <input id="item-category" type="text" placeholder="Main / Drinks / Snacks">
              </label>
              <label>Price (USD)
                <input id="item-price" type="number" min="0" step="0.01" placeholder="8.99">
              </label>
              <button id="add-item-btn" type="button">Add Item</button>
              <div class="status" id="add-status"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Orders dashboard -->
      <section class="panel">
        <h2>Orders Dashboard</h2>
        <p class="panel-description">
          Monitor pending and completed orders, update order status, and inspect order details.
        </p>

        <div class="card">
          <h3>Pending Orders</h3>
          <p class="card-description">
            Orders that are not yet completed (RECEIVED or PREPARING).
          </p>
          <div class="toolbar">
            <button type="button" id="refresh-pending-btn">Refresh Pending</button>
          </div>
          <div class="table-wrapper">
            <table id="pending-orders-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Customer</th>
                  <th>Vendor</th>
                  <th>Status</th>
                  <th>Total</th>
                  <th>Placed At</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- filled by script.js -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="card">
          <h3>Completed / Ready Orders</h3>
          <p class="card-description">
            Orders that are READY, PICKED_UP, or CANCELLED.
          </p>
          <div class="toolbar">
            <button type="button" id="refresh-completed-btn">Refresh Completed</button>
          </div>
          <div class="table-wrapper">
            <table id="completed-orders-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Customer</th>
                  <th>Vendor</th>
                  <th>Status</th>
                  <th>Total</th>
                  <th>Placed At</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- filled by script.js -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="status" id="orders-status"></div>
      </section>
    </main>

    <footer>
      <small>CSE 412 · Food Court Kiosk &amp; Pickup System</small>
    </footer>
  </div>

  <!-- Order details modal -->
  <div id="order-modal" class="modal-backdrop hidden">
    <div class="modal">
      <div class="modal-header">
        <h3>Order Details</h3>
        <button type="button" class="modal-close-btn" id="close-modal-btn">×</button>
      </div>
      <div class="modal-body">
        <p><strong>Order ID:</strong> <span id="detail-order-id"></span></p>
        <p><strong>Customer:</strong> <span id="detail-customer"></span></p>
        <p><strong>Vendor:</strong> <span id="detail-vendor"></span></p>
        <p><strong>Status:</strong> <span id="detail-status"></span></p>
        <p><strong>Total:</strong> $<span id="detail-total"></span></p>
        <p><strong>Placed At:</strong> <span id="detail-placed"></span></p>

        <h4>Items</h4>
        <div class="table-wrapper small">
          <table id="detail-items-table">
            <thead>
              <tr>
                <th>Item</th>
                <th>Qty</th>
                <th>Unit Price</th>
                <th>Line Total</th>
              </tr>
            </thead>
            <tbody>
              <!-- filled by script.js -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" id="modal-close-footer-btn">Close</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
